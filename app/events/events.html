<html src="events.js"></html>

<div ng-cloak>
  <md-list>
    <md-subheader class="md-no-sticky">All Events</md-subheader>

    <md-list-item class="md-3-line" ng-repeat="event in events track by $index" layout="row" layout-align="space-between center">

        <div class="md-list-item-text" layout="column">
          <h3>{{ event.name }}</h3>
          <h4>{{ event.description }}</h4>
          <p>{{ event.times.begin | date:'dd.M. H:mm' }} - {{ event.times.end | date:'dd.M. H:mm' }}</p>
        </div>

        <md-button ng-show="canJoin( event )" class="md-icon-button" aria-label="Join" href="#/events/{{event.id}}/guests/new">
            Join
        </md-button>


        <md-button class="md-icon-button" aria-label="Edit" href="#/events/{{event.id}}/edit">
            Edit
        </md-button>

        <md-button class="md-icon-button" aria-label="Open" href="#/events/{{event.id}}/show">
          Open
        </md-button>
    </md-list-item>

  </md-list>
  <md-button href="#/events/new" id="addEventBtn" class="md-fab md-primary" aria-label="Add Event">
    <md-icon md-svg-src="img/icons/ic_add_48px.svg"></md-icon>
  </md-button>
</div>
